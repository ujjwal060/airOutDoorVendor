import{r as t,k as j,j as e}from"./index-DMQZN-YT.js";import{a as f}from"./axios-B4uVmeYG.js";import{b as y,c,a as b}from"./index.es-Dr928r4n.js";import{C as N}from"./CRow-WkUoOd6G.js";import{C as o}from"./CCol-C5GETTd3.js";import{C as v}from"./CCardGroup-DYUdNOtU.js";import{C as w,a as k}from"./CCardBody-DJt4bdLB.js";import{C as I}from"./CForm-BCH59H3k.js";import{C as m,a as d}from"./CInputGroupText-c4jlSMOM.js";import{c as L}from"./cil-user-Ddrdy7PS.js";import{C as p}from"./CFormInput-BBxsUJtP.js";import{c as S}from"./cil-lock-locked-DmxpJbVL.js";const E=""+new URL("logo-D2G0JN63.png",import.meta.url).href,P="http://3.111.163.2:3002/api/admin/login",z=()=>{const[i,h]=t.useState(""),[n,x]=t.useState(""),[l,a]=t.useState(""),u=j(),g=async r=>{r.preventDefault();try{const s=await f.post(P,{email:i,password:n});if(s.status===200){const{token:C}=s.data;localStorage.setItem("token",C),u("/Dashboard")}else a(s.data.message||"Failed to login. Please check your credentials.")}catch(s){s.response&&s.response.data?a(s.response.data.message):a("Failed to login. Please check your credentials."),console.error("Admin Login Error:",s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center ",children:e.jsx(y,{children:e.jsx(N,{className:"justify-content-center",children:e.jsx(o,{style:{maxWidth:"37%"},children:e.jsx(v,{children:e.jsx(w,{className:"p-4 bg-dark-gray",style:{backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white"},children:e.jsxs(k,{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:E,alt:"Logo",style:{maxWidth:"45%",height:"auto"}})}),e.jsxs(I,{onSubmit:g,children:[e.jsx("h1",{children:"Welcome!"}),e.jsx("p",{className:"text-light",children:"Admin Sign In"}),l&&e.jsx("p",{className:"text-danger",children:l}),e.jsxs(m,{className:"mb-3",children:[e.jsx(d,{children:e.jsx(c,{icon:L})}),e.jsx(p,{type:"email",placeholder:"Email",autoComplete:"email",value:i,onChange:r=>h(r.target.value),required:!0})]}),e.jsxs(m,{className:"mb-4",children:[e.jsx(d,{children:e.jsx(c,{icon:S})}),e.jsx(p,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:r=>x(r.target.value),required:!0})]}),e.jsx(o,{children:e.jsx(o,{children:e.jsx(b,{type:"submit",color:"primary",className:"px-4",children:"Login"})})})]})]})})})})})})})};export{z as default};
